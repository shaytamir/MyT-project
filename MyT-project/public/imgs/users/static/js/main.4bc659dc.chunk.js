(this["webpackJsonpproject-myv"]=this["webpackJsonpproject-myv"]||[]).push([[0],{10:function(t){t.exports=JSON.parse('{"a":"http://localhost:5000/api","b":"http://localhost:5000"}')},106:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(1),o=n.n(r),c=n(30),s=n.n(c),i=(n(74),n(3)),u=n.n(i),l=n(4),d=n(6),p=n(7),E=n(9),O=n(8),f=n(18),_=n(28),h=(n(76),n(77),n(19)),j=n(12),b=n(10),m=n(40);function S(t){return function(e){e({type:m.a.SEARCH_REQUEST}),e(function(t){return{type:m.a.SEARCH_SUCCESS,payload:{value:t}}}(t))}}var T=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(p.a)(n,[{key:"handdleChange",value:function(t){console.log(t.target.value),this.props.search(t.target.value)}},{key:"go2myImags",value:function(){f.a}},{key:"render",value:function(){var t=this,e=this.props.data,n=e.user,r=e.imgs,c=null,s=null;return n.haveImg&&(s=(c=r.find((function(t){return t.user_id===n._id&&t.isProfileImg})))?"".concat(b.b,"/").concat(c.imageData):"public/img/static/pok.png"),s&&s.includes("blob")&&(s=c.imageData),Object(a.jsxs)("div",{className:" main_navbar",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-md navbar-light myNav",id:"myNav",children:[Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(a.jsxs)("ul",{className:"navbar-nav mr-auto nav_ul",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(h.c,{className:"nav-link",to:"/posts",children:Object(a.jsx)("div",{className:"btn ",children:"Posts"})})}),n&&n.first_name&&Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(h.c,{className:"nav-link",to:"/todos",children:Object(a.jsx)("div",{className:"btn",children:"MyTodos"})})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(h.c,{className:"nav-link",to:"/my-images",children:Object(a.jsx)("div",{className:"btn",children:"MyIMages"})})}),Object(a.jsxs)("li",{className:"nav-item dropdown nav_ul_account",children:[Object(a.jsx)("div",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Account"}),Object(a.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(a.jsx)(h.c,{className:"dropdown-item ",to:"/edit-profile",children:"Edit Account"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)(h.c,{className:"dropdown-item",to:"/logout",children:"Logout"})]})]})]})]}),!n.first_name&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("ul",{className:"navbar-nav mr-right",children:[Object(a.jsx)("li",{className:"nav-link",children:Object(a.jsx)(h.c,{className:"nav-link",to:"/login",children:"Login"})}),Object(a.jsx)("li",{className:"nav-link",children:Object(a.jsx)(h.c,{className:"nav-link",to:"/create-account",children:"Create Account"})})]})})]})]}),n&&Object(a.jsx)("form",{className:"  search",children:Object(a.jsx)("input",{className:"form-control mr-sm-2 search_input",type:"search",placeholder:"Search","aria-label":"Search",onChange:function(e){t.handdleChange(e)}})}),n.haveImg&&Object(a.jsx)(h.c,{to:"/my-images",children:Object(a.jsx)("img",{className:"nav_user_img",src:"".concat(s),alt:"user-imge",onClick:function(){t.go2myImags()}})})]})}}]),n}(r.Component),v=Object(j.b)((function(t,e){return{data:t.data}}),(function(t){return{search:function(e){return t(S(e))}}}))(T),I=n(2),C=n(43),g=n(44),y=n(24),U=n.n(y),x=n(68),D=function(t){var e=t.name,n=t.label,r=t.error,o=Object(x.a)(t,["name","label","error"]);return Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)("label",{htmlFor:e,children:n}),Object(a.jsx)("input",Object(I.a)(Object(I.a)({},o),{},{name:e,id:e,className:""})),Object(a.jsx)("p",{children:r&&Object(a.jsx)("span",{className:"text-danger",children:r})})]})},L=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={data:{},errors:{}},t.validate=function(){var e=U.a.validate(t.state.data,t.schema,{abortEarly:!1}).error;if(!e)return null;var n,a={},r=Object(g.a)(e.details);try{for(r.s();!(n=r.n()).done;){var o=n.value;a[o.path[0]]=o.message}}catch(c){r.e(c)}finally{r.f()}return a},t.validateProperty=function(e){var n=e.name,a=e.value,r=Object(C.a)({},n,a),o=Object(C.a)({},n,t.schema[n]),c=U.a.validate(r,o).error;return c?c.details[0].message:null},t.handleSubmit=function(e){e.preventDefault();var n=t.validate();t.setState({errors:n||{}}),n||t.doSubmit(e)},t.handleChange=function(e){var n=e.currentTarget,a=Object(I.a)({},t.state.errors),r=t.validateProperty(n);r?a[n.name]=r:delete a[n.name];var o=Object(I.a)({},t.state.data);o[n.name]=n.value,t.setState({data:o,errors:a})},t}return Object(p.a)(n,[{key:"renderButton",value:function(t){return Object(a.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:t})}},{key:"renderInput",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=this.state,c=o.data,s=o.errors;return Object(a.jsx)(D,{type:n,name:t,value:c[t],label:e,onChange:this.handleChange,error:s[t],placeholder:r})}}]),n}(r.Component),R=n(14),N=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={data:{first_name:"",last_name:"",email:"",cell:"",password:"",password_confirm:""},errors:{}},t.todosObj=[{id:1,name:"start list",todos:[{id:1,title:"my first todo",isChecked:!0,isDeleted:!1}],isDelited:!1,delitedTodos:[],listColor:"#D7AEFB",peackColor:!1}],t.user_img="https://cdn.pixabay.com/photo/2017/05/13/23/05/img-src-x-2310895_960_720",t.schema=R.l,t.doSubmit=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(I.a)({},t.state.data)).biz=!1,n.gender="other",e.prev=3,e.next=6,Object(R.b)(n);case 6:Object(_.b)("".concat(n.first_name," sign up successfully")),t.props.history.replace("/login"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response&&400===e.t0.response.status&&t.setState({errors:{email:"Email is taken"}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),t}return Object(p.a)(n,[{key:"render",value:function(){return Object(R.f)()?Object(a.jsx)(f.a,{to:"/"}):Object(a.jsx)("div",{id:"createAcc_container",children:Object(a.jsxs)("div",{id:"create_account",className:"create_account middleDiv",children:[Object(a.jsx)("h1",{className:"create_account_h1",children:"Create New Account"}),Object(a.jsxs)("form",{className:"create_account_form container",action:"/login/create_account",method:"POST",autoComplete:"off",name:"account_formm",onSubmit:this.handleSubmit,children:[this.renderInput("first_name","First Name","text","Enter your First Name"),this.renderInput("last_name","Last Name","text","Enter your Last Name"),this.renderInput("email","Email","email","Enter your email"),this.renderInput("cell","Cell","phone","Enter your Cell"),this.renderInput("password","Password","password","Enter your password"),this.renderInput("password_confirm","Password Confirm","password","ReEnter your password"),this.renderButton("Continue")]})]})})}}]),n}(L),k=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={data:{email:"",password:""},errors:{}},t.schema={email:U.a.string().required().email().label("Email"),password:U.a.string().required().min(6).max(1024).label("password")},t.doSubmit=Object(l.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(I.a)({},t.state.data),e.prev=1,e.next=4,R.c.login(n.email,n.password);case 4:(a=e.sent).token&&(window.location="/posts",console.log(222)),t.setState({errors:{email:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("eror user login",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),t}return Object(p.a)(n,[{key:"render",value:function(){return Object(R.f)()?Object(a.jsx)(f.a,{to:"/"}):Object(a.jsx)("div",{className:"login_container",children:Object(a.jsxs)("div",{id:"login",className:"login middleDiv",children:[Object(a.jsx)("h1",{children:"Login to MyT"}),Object(a.jsx)("h2",{children:"Enter you email address and your password"}),Object(a.jsx)("div",{className:"form_div",children:Object(a.jsxs)("form",{className:"log_form",onSubmit:this.handleSubmit,method:"POST",autoComplete:"off",children:[this.renderInput("email","Email","email","Enter your email"),this.renderInput("password","Password","password","Enter your password"),this.renderButton("Login")]})})]})})}}]),n}(L),A=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){R.c.logout(),window.location="/login"}},{key:"render",value:function(){return null}}]),n}(r.Component),M=n(41),F=n(25),w=n(22);function P(t,e){return function(n){n({type:F.a.LIKE_POST_REQUEST}),Object(w.h)(t).then((function(){n(function(t,e){return{type:F.a.LIKE_POST_SUCCESS,payload:{postId:t,userId:e}}}(t,e))})).catch=function(t){var e;console.error("like rejected"),n((e=t,{type:F.a.LIKE_POST_FAILURE,payload:e}))}}}function Q(t,e){return function(n){n({type:F.a.UNLIKE_POST_REQUEST}),Object(w.i)(t).then((function(){n(function(t,e){return{type:F.a.UNLIKE_POST_SUCCESS,payload:{postId:t,userId:e}}}(t,e))})).catch=function(t){var e;console.error("unLike rejected"),n((e=t,{type:F.a.UNLIKE_POST_FAILURE,payload:e}))}}}var G=n(20);function H(t,e){return function(n){n({type:G.a.EDIT_POST_REQUEST}),console.log(111),Object(w.b)(t,e).then((function(){console.log(222),n(function(t,e){return console.log(e),{type:G.a.EDIT_POST_SUCCESS,payload:{postId:t,value:e}}}(t,e)),console.log(333)})).catch=function(t){var e;console.error("unLike rejected"),n((e=t,{type:G.a.EDIT_POST_FAILURE,payload:e}))}}}function B(t){return function(e){e(function(t){return{type:G.a.EDIT_ON,payload:{postId:t}}}(t))}}function K(t){return function(e){console.log(t),e(function(t){return{type:G.a.EDIT_OFF,payload:{postId:t}}}(t))}}function V(t){return function(e){e({type:G.a.DELETE_POST_REQUEST}),console.log(111),Object(w.a)(t).then((function(){console.log(222),e(function(t){return{type:G.a.DELETE_POST_SUCCESS,payload:{postId:t}}}(t)),console.log(333)})).catch=function(t){var n;console.error("unLike rejected"),e((n=t,{type:G.a.DELETE_POST_FAILURE,payload:n}))}}}var Y=n(17);function q(t){return console.log(321),function(e){e(function(t){return{type:Y.a.COMMENTS_POST_ON,payload:{postId:t}}}(t))}}function J(t){return function(e){console.log(t),e(function(t){return console.log(123),{type:Y.a.COMMENTS_POST_OFF,payload:{postId:t}}}(t))}}function z(t,e){return function(n){n({type:Y.a.ADD_COMMENT_REQUEST}),console.log(111),Object(w.c)(t,e).then((function(){console.log(222),n(function(t,e){return{type:Y.a.ADD_COMMENT_SUCCESS,payload:{postId:t,comment:e}}}(t,e)),console.log(333)})).catch=function(t){var e;console.error("unLike rejected"),n((e=t,{type:Y.a.ADD_COMMENT_FAILURE,payload:e}))}}}function W(t,e,n){return function(a){a({type:Y.a.EDIT_COMMENT_REQUEST}),console.log(111),Object(w.f)(t,e,n).then((function(){console.log(222),a(function(t,e,n){return{type:Y.a.EDIT_COMMENT_SUCCESS,payload:{postId:t,comment:e,newValue:n}}}(t,e,n)),console.log(333)})).catch=function(t){var e;console.error("unLike rejected"),a((e=t,{type:Y.a.EDIT_COMMENT_FAILURE,payload:e}))}}}function $(t,e){return function(n){n({type:Y.a.DELETE_COMMENT_REQUEST}),console.log(111),Object(w.e)(t,e).then((function(){console.log(222),n(function(t,e){return{type:Y.a.DELETE_COMMENT_SUCCESS,payload:{postId:t,comment:e}}}(t,e)),console.log(333)})).catch=function(t){var e;console.error("unLike rejected"),n((e=t,{type:Y.a.DELETE_COMMENT_FAILURE,payload:e}))}}}function X(t,e){return function(n){n(function(t,e){return{type:Y.a.COMMENTS_IN_EDIT,payload:{postId:t,commentId:e}}}(t,e))}}function Z(t,e){return console.log(111),function(n){n(function(t,e){return console.log(222),{type:Y.a.COMMENTS_OUT_EDIT,payload:{postId:t,commentId:e}}}(t,e))}}var tt=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"editPost2On",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),!e.isEditOn){t.next=7;break}return console.log(999999),t.next=5,this.props.editPostOff(e.id);case 5:t.next=9;break;case 7:return t.next=9,this.props.editPostOn(e.id);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"DeletePost",value:function(t){this.props.deletePost(t.id)}},{key:"render",value:function(){var t=this,e=this.props.post;return Object(a.jsxs)("div",{className:"edit_main_div ",children:[Object(a.jsx)("img",{className:"edit_icon",src:" /imgs/icons/edit.png",alt:"edit",onClick:function(){t.editPost2On(e)}}),!e.isEditOn&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("img",{className:"delete_post",src:"imgs/icons/x.png",alt:"delete post",onClick:function(){t.DeletePost(e)}})})]})}}]),n}(r.Component),et=Object(j.b)((function(t,e){return{posts:t.posts,data:t.data}}),(function(t){return{deletePost:function(e){return t(V(e))},editPostOn:function(e){return t(B(e))},editPostOff:function(e){return t(K(e))}}}))(tt),nt=n(54),at=n.n(nt);function rt(){return ot.apply(this,arguments)}function ot(){return(ot=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){return!!t.isConfirmed&&(at.a.fire("Deleted!","Your file has been deleted.","success"),!0)}));case 2:if(!t.sent){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ct=function(t,e){var n=t.split(new RegExp("(".concat(e,")"),"gi"));return Object(a.jsxs)("span",{children:[" ",n.map((function(t,n){return Object(a.jsx)("span",{style:t.toLowerCase()===e.toLowerCase()?{backgroundColor:"orange"}:{},children:t},n)}))," "]})},st=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={value:""},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.comment;this.setState({value:t.comment})}},{key:"commentChange",value:function(t){var e=t.target.value;this.setState({value:e})}},{key:"handleCommetEditBlur",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.editComment(e.id,n,a);case 2:return t.next=4,this.props.outEditComment(e.id,n.id);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props,n=e.post,r=e.comment;return Object(a.jsx)("div",{children:Object(a.jsx)("input",{type:"text",className:"edit_input",value:this.state.value,ref:function(e){t.textInput=e&&e.focus()},onChange:function(e){t.commentChange(e)},onBlur:function(){t.handleCommetEditBlur(n,r,t.state.value)}})})}}]),n}(r.Component),it=Object(j.b)((function(t,e){return{data:t.data}}),(function(t){return{editComment:function(e,n,a){return t(W(e,n,a))},outEditComment:function(e,n){return t(Z(e,n))}}}))(st),ut=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={value:"",newComment:""},t}return Object(p.a)(n,[{key:"postChange",value:function(t){var e=t.target.value;this.setState({value:e})}},{key:"handleSubmit",value:function(t){t.preventDefault();var e=this.props.post,n=this.props.data.user,a={name:"".concat(n.first_name," ").concat(n.last_name),comment:this.state.value,id:"".concat(e.id,"-").concat(e.comments.length+1),user_id:n._id,inEdit:!1};this.state.value.length>0&&(this.props.addComment(e.id,a),this.setState({value:""}))}},{key:"findCommenter",value:function(t,e){return t.user_id===e._id}},{key:"handleCommentEdit",value:function(t,e){this.props.inEditComment(t.id,e.id)}},{key:"DeleteComment",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.deleteComment(e.id,n);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.data,n=e.user,r=e.search,c=this.props.post,s=!1;return c.user_id===n._id&&(s=!0),Object(a.jsx)("div",{className:"comments_div_main",children:Object(a.jsxs)("div",{className:"container comments_div",children:[Object(a.jsx)("div",{className:"comments",children:c.comments&&c.comments.map((function(e,i){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsxs)("div",{className:"text",children:[t.findCommenter(e,n)&&Object(a.jsx)("div",{className:"edit_comment_btn",children:Object(a.jsx)("img",{src:"/imgs/icons/edit.png",alt:"edit-comment",onClick:function(){t.handleCommentEdit(c,e)}})}),!e.inEdit&&Object(a.jsx)(o.a.Fragment,{children:ct(e.comment,r)}),e.inEdit&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(it,{comment:e,post:c})})]}),Object(a.jsxs)("div",{className:"auther",children:["by ",ct(e.name,r)]}),t.findCommenter(e,n)&&Object(a.jsx)("button",{className:"btn delete_btn",onClick:function(){t.DeleteComment(c,e)},children:"x"}),s&&Object(a.jsx)("button",{className:"btn delete_btn",onClick:function(){t.DeleteComment(c,e)},children:"x"})]})},i)}))}),Object(a.jsxs)("form",{className:"write_comment_div container",children:[Object(a.jsx)("input",{value:this.state.value,type:"text",placeholder:"write your comment...",onChange:function(e){t.postChange(e)}}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){t.handleSubmit(e)},children:"send"})]})]})})}}]),n}(r.Component),lt=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{addComment:function(e,n){return t(z(e,n))},inEditComment:function(e,n){return t(X(e,n))},deleteComment:function(e,n){return t($(e,n))}}}))(ut),dt=n(15),pt=n(13);function Et(){return pt.a.get("".concat(b.a,"/image/get-images"))}function Ot(){return ft.apply(this,arguments)}function ft(){return(ft=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt.a.patch("".concat(b.a,"/users/me/upload-img"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _t(t){return ht.apply(this,arguments)}function ht(){return(ht=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pt.a.post("".concat(b.a,"/image/uploadmulter"),e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jt(){return pt.a.patch("".concat(b.a,"/image/false-current-profile-img"))}function bt(t){return pt.a.patch("".concat(b.a,"/image/change-profile-img/").concat(t))}function mt(t){return pt.a.patch("".concat(b.a,"/image/set-user-profile-img/").concat(t))}function St(t){return pt.a.delete("".concat(b.a,"/image/delete/").concat(t))}function Tt(t){return function(e){e({type:dt.a.USER_UPLOAD_IMG_REQUEST}),Ot().then((function(){e(function(t){return{type:dt.a.USER_UPLOAD_IMG_SUCCESS,payload:{user:t}}}(t))})).catch=function(t){var n;console.error("first login rejected"),e((n=t,{type:dt.a.USER_UPLOAD_IMG_FAILURE,payload:n}))}}}function vt(t,e,n,a){return function(r){r({type:dt.a.ADD_IMG_REQUEST}),_t(t).then((function(){r(function(t,e,n){return{type:dt.a.ADD_IMG_SUCCESS,payload:{urlImg:t,userId:e,imgCount:n}}}(e,n,a))})).catch=function(t){var e;console.error("new img rejected"),r((e=t,{type:dt.a.ADD_IMG_FAILURE,payload:e}))}}}function It(t){return function(e){e({type:dt.a.IMG_COUNTER_INC_REQUEST}),pt.a.patch("".concat(b.a,"/image/img-counter-inc")).then((function(){e(function(t){console.log(23333333);var e=t.todoLists_count+1;return{type:dt.a.IMG_COUNTER_INC_SUCCESS,payload:{user:t,newCount:e}}}(t))})).catch=function(t){var n;console.error("increce todo-lists count failed"),e((n=t,{type:dt.a.IMG_COUNTER_INCT_FAILURE,payload:n}))}}}function Ct(t,e){return function(n){n({type:dt.a.PROFILE_IMG_REQUEST}),jt().then((function(){bt(t).then((function(){mt(t).then((function(){n(function(t,e){return{type:dt.a.PROFILE_IMG_SUCCESS,payload:{imgId:t,userId:e}}}(t,e))})).catch=function(t){var e;console.error("new img rejected"),n((e=t,{type:dt.a.PROFILE_IMG_FAILURE,payload:e}))}}))}))}}function gt(t){return function(e){e(function(t){return{type:dt.a.IN_IMG_EDIT_MODE,payload:{imgId:t}}}(t))}}function yt(t){return function(e){e(function(t){return{type:dt.a.OUT_IMG_EDIT_MODE,payload:{imgId:t}}}(t))}}function Ut(t){return function(e){e({type:dt.a.DELETE_IMG_REQUEST}),St(t).then((function(){e(function(t){return{type:dt.a.DELETE_IMG_SUCCESS,payload:{imgId:t}}}(t))})).catch=function(t){var n;console.error("new img rejected"),e((n=t,{type:dt.a.DELETE_IMG_FAILURE,payload:n}))}}}var xt=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(p.a)(n,[{key:"checkImgSource",value:function(t,e){return t.imageData.includes("blob")?t.imageData:"".concat(b.b,"/").concat(t.imageData)}},{key:"clearEditMode",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.find((function(t){return!0===t.inEditMode})))){t.next=4;break}return t.next=4,this.props.outimgEditMOde(n.id);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleImgClick",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.clearEditMode(e);case 2:return t.next=4,this.props.inimgEditMOde(n.id);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"handleFullScreen",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.clearEditMode(n);case 2:return t.next=4,this.props.openBigImg(!0,e);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"setProfileImg",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.clearEditMode(e);case 2:return t.next=4,this.props.changeProfileImg(n.id,n.user_id);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"handleImgDELETE",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,rt();case 3:t.sent&&this.props.DELeteImg(e.id);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props,n=e.img,r=e.i,c=this.props.data,s=c.user,i=c.imgs,u=this.checkImgSource(n,s);return Object(a.jsx)("div",{className:"img_div",children:Object(a.jsxs)("div",{className:"img_item ".concat(n.isProfileImg?"profile_item":null),children:[Object(a.jsx)("img",{className:"thisImg",src:u,alt:"",onClick:function(){t.handleImgClick(i,n)}}),n.inEditMode&&Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)("div",{className:"delete_img_btn",onClick:function(){t.handleImgDELETE(n)},children:!n.isProfileImg&&Object(a.jsx)("img",{src:"/imgs/icons/x.png",alt:""})}),Object(a.jsxs)("div",{className:"edit_mode",children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"btn btn-primary full_screen_btn",onClick:function(){t.handleFullScreen(r,i)},children:"full-screen"})}),Object(a.jsxs)("div",{children:[!n.isProfileImg&&Object(a.jsx)("button",{className:"btn btn-success profile_img_btn",onClick:function(){t.setProfileImg(i,n)},children:"set profile image"}),n.isProfileImg&&Object(a.jsx)("button",{className:"btn btn-success profile_img",onClick:function(){t.setProfileImg(i,n)},children:"profile image"})]})]})]})]})})}}]),n}(r.Component),Dt=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{inimgEditMOde:function(e){return t(gt(e))},outimgEditMOde:function(e){return t(yt(e))},changeProfileImg:function(e,n){return t(Ct(e,n))},DELeteImg:function(e){return t(Ut(e))}}}))(xt),Lt=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={isEditOn:!1},t}return Object(p.a)(n,[{key:"handleLiked",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.likePost(e,n);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"handleUnLiked",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.unLikePost(e,n);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"likesCounter",value:function(t){var e=t.likes.length;return e||0}},{key:"isMyPost",value:function(t,e){return t.user_id===e._id}},{key:"handleEditBlur",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,this.props.editPost(n.id,a);case 3:return t.next=5,this.props.editPostOff(n.id);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"endOfInput",value:function(t){var e=t.target.value;t.target.value="",t.target.value=e}},{key:"postCommentsOn",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.postCommenstOn(e.id);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"postCommentsOff",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.postCommenstOff(e.id);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e=this,n=this.props,r=n.post,c=n.user,s=this.props.data,i=s.imgs,u=s.users,l=this.isMyPost(r,c),d=null;r.likes&&r.likes.length&&(d=r.likes.some((function(t){return t===c._id})),(t=this.likesCounter(r))||(t=0));var p=this.props.data.search,E=ct(r.post,p),O=ct(r.user_name,p),f=ct(function(t){var e=new Date(t),n=e.getDate(),a=e.getMonth()+1,r=e.getYear()-100,o=e.getHours(),c=e.getMinutes(),s=e.getSeconds();return n<10&&(n="0"+n),a<10&&(a="0"+a),o<10&&(o="0"+o),c<10&&(c="0"+c),s<10&&(s="0"+s),"".concat(n,"/").concat(a,"/").concat(r," ").concat(o,":").concat(c,":").concat(s)}(r.createdAt),p),_=null,h=u.find((function(t){return t._id===r.user_id}));if(h&&h.profile_img.length){var j=i.find((function(t){return t.id===h.profile_img}));_=j.imageData.includes("blob")?j.imageData:"".concat(b.b,"/").concat(j.imageData)}var m=r.comments.length;return Object(a.jsxs)("div",{className:"posts_div",children:[Object(a.jsxs)("div",{className:"item container",children:[Object(a.jsxs)("div",{className:"post_user",children:[Object(a.jsxs)("div",{className:"user_name",children:[O,h&&h.profile_img.length>0&&Object(a.jsx)("img",{src:_,alt:"profile-img"})]}),Object(a.jsx)("div",{className:"user_time",children:r.createdAt?f:"just now"})]}),r.isEditOn&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("textarea",{ref:function(t){e.textInput=t&&t.focus()},defaultValue:r.post,onFocus:this.endOfInput,className:"post inEdit",onBlur:function(t){e.handleEditBlur(t,r)}})}),!r.isEditOn&&Object(a.jsx)("div",{className:"post ",children:E}),l&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(et,{post:r})})]}),Object(a.jsxs)("div",{className:"btn_div container",children:[c.first_name&&!r.isCommentsOn&&Object(a.jsxs)("button",{type:"button",className:"btn comment_btn",onClick:function(){e.postCommentsOn(r)},children:["comments (",m,")"]}),c.first_name&&r.isCommentsOn&&Object(a.jsxs)("button",{type:"button",className:"btn comment_btn",onClick:function(){e.postCommentsOff(r)},children:["comments (",m,")"]}),Object(a.jsx)(lt,{post:r}),c.first_name&&!d&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("button",{type:"button",className:"btn btn-primary like_btn",onClick:function(){e.handleLiked(r.id,c._id)},children:["like",Object(a.jsx)("span",{className:"likesCount",children:t?"  ("+t+")":" (0)"})]})}),d&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("button",{type:"button",className:"btn btn-success unLike_btn",onClick:function(){e.handleUnLiked(r.id)},children:["liked",Object(a.jsx)("span",{className:"likesCount",children:" ("+t+")"})]})})]})]})}}]),n}(r.Component),Rt=Object(j.b)((function(t,e){return{posts:t.posts,data:t.data}}),(function(t){return{likePost:function(e,n){return t(P(e,n))},unLikePost:function(e,n){return t(Q(e,n))},editPost:function(e,n){return t(H(e,n))},editPostOff:function(e){return t(K(e))},postCommenstOn:function(e){return t(q(e))},postCommenstOff:function(e){return t(J(e))}}}))(Lt);var Nt=function(t){var e=t.title;return Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12 mt-4",children:Object(a.jsx)("h1",{children:e})})})},kt=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={text:"",isMyPosts:!1,isLikes:!1,activeBtn:"Posts",sortPosts:"asc"},t.valueChange=function(e){t.setState({text:e.target.value})},t.handleAddPost=function(){var e=Object(l.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.props.data.user,!(t.state.text.length>=2)){e.next=13;break}return e.prev=2,e.next=5,t.props.AddPost(t.state.text,a);case 5:return e.next=7,Object(R.i)();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("post failed.."),Object(_.b)("New Post failed ");case 13:t.setState({text:""}),n.target.value="";case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),t}return Object(p.a)(n,[{key:"go2posts",value:function(){this.setState({isPosts:!0,isMyPosts:!1,isLikes:!1})}},{key:"go2myPosts",value:function(){this.setState({isMyPosts:!0,isPosts:!1,isLikes:!1})}},{key:"go2likes",value:function(){this.setState({isLikes:!0,isMyPosts:!1,isPosts:!1})}},{key:"sortChange",value:function(t){this.setState({sortPosts:t.target.value})}},{key:"render",value:function(){var t,e=this,n=this.props.data,r=n.user,c=n.search,s=this.state,i=s.text,u=s.activeBtn,l=s.sortPosts,d="Community Posts";return r.first_name?r.first_name&&(t=this.props.data.posts,this.state.isMyPosts&&(t=this.props.data.posts.filter((function(t){return t.user_id===r._id})),d="My Posts",u="My-Posts"),this.state.isLikes&&(t=this.props.data.posts.filter((function(t){return t.likes.includes(r._id)})),d="Liked posts",u="Likes")):t=this.props.posts.posts,c.length>0&&(t=function(t,e){return t.filter((function(t){return t.user_name.toLowerCase().includes(e.toLowerCase())||t.post.toLowerCase().includes(e.toLowerCase())}))}(t,c),d="Search in Posts"),"desc"===l&&(t=[].concat(t).reverse()),Object(a.jsxs)("div",{className:"container main_post_div ",children:[Object(a.jsx)(Nt,{title:d}),Object(a.jsx)("hr",{}),!r.first_name&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("div",{className:"create_account_bunner",children:Object(a.jsx)("div",{className:" button_div",children:Object(a.jsx)(h.b,{to:"/create-account",className:"btn",children:"Create Account"})})})}),Object(a.jsxs)("div",{className:"postType_btn ",children:[Object(a.jsx)("div",{children:r.first_name&&Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)("button",{className:"btn ".concat("Posts"===u?"active":""),onClick:function(){e.go2posts()},children:"Posts"}),Object(a.jsx)("button",{className:"btn ".concat("My-Posts"===u?"active":""),onClick:function(){e.go2myPosts()},children:"My-Posts"}),Object(a.jsx)("button",{className:"btn ".concat("Likes"===u?"active":""),onClick:function(){e.go2likes()},children:"Likes"})]})}),t&&t.length>0&&Object(a.jsx)("div",{className:"sort_posts",children:Object(a.jsxs)("select",{name:"",id:"",onChange:function(t){e.sortChange(t)},children:[Object(a.jsx)("option",{value:"asc",children:"new to old"}),Object(a.jsx)("option",{value:"desc",children:"old to new"})]})})]}),r.first_name&&Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)("h4",{className:"newPosts_header",children:"Post a new post"}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("textarea",{name:"postField",id:"postField",cols:"30",rows:"5",value:i,onChange:function(t){return e.valueChange(t)}}),Object(a.jsx)("button",{className:"post_btn btn btn-success",type:"button",onClick:function(t){return e.handleAddPost(t)},children:"Post"})]})]}),Object(a.jsxs)("div",{children:[t&&t.length>0&&t.map((function(t,e){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(Rt,{post:t,user:r})},e)})),t&&0===t.length&&Object(a.jsxs)(o.a.Fragment,{children:["Posts"===u&&Object(a.jsx)("p",{className:"text-center no_posts",children:"no posts yet, be the first to post yout mind"}),"Likes"===u&&Object(a.jsx)("p",{className:"text-center no_posts",children:"you didnt like any post yet..."}),"My-Posts"===u&&Object(a.jsx)("p",{className:"text-center no_posts",children:"You have no posts yet, feel free to post your mind.."})]})]})]})}}]),n}(r.Component),At=Object(j.b)((function(t,e){return{posts:t.posts,data:t.data}}),(function(t){return{AddPost:function(e,n){return t(Object(M.a)(e,n))}}}))(kt),Mt=n(35);function Ft(){return(Ft=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pt.a.patch("".concat(b.a,"/todolist/todos/add-todo/").concat(n),e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wt(){return(wt=Object(l.a)(u.a.mark((function t(e,n,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pt.a.patch("".concat(b.a,"/todolist/todos/edit-todo/").concat(n),{todo:e,newText:a}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pt(){return(Pt=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pt.a.patch("".concat(b.a,"/todolist/todos/is-checked/").concat(e),{todo:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qt(t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pt.a.post("".concat(b.a,"/todolist/lists"),e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ht(){return(Ht=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pt.a.patch("".concat(b.a,"/todolist/lists/change-color/").concat(e.id),{color:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Bt(){return pt.a.get("".concat(b.a,"/todolist/lists"))}function Kt(){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(l.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bt();case 2:return e=t.sent,console.log(e),n=e.data.filter((function(t){return!t.isDeleted})),console.log(n.length),t.abrupt("return",n.length);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yt(){return(Yt=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt.a.patch("".concat(b.a,"/todolist/lists/todos-count/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qt(){return(qt=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Jt=function(t){return function(t){t({type:Mt.a.FETCH_DATA_REQUEST}),Object(w.g)().then((function(e){var n=e.data.map((function(t){return t}));Object(R.e)().then((function(e){var a=e.data.map((function(t){return t}));Object(R.h)().then((function(e){var r=e.data;Bt().then((function(e){var o=e.data;Et().then((function(e){var c=e.data;t(function(t,e,n,a,r){return{type:Mt.a.FETCH_DATA_SUCCESS,payload:{users:e,posts:t,user:n,userTodos:a,imgs:r}}}(n,a,r,o,c))}))}))})).catch=function(t){console.error("user not fetched",t)}})).catch=function(t){console.error("UserS not feteched",t)}})).catch((function(e){t(function(t){return{type:Mt.a.FETCH_DATA_FAILURE,payload:t}}(e))}))}},zt=n(36);function Wt(t){return function(e){e({type:zt.a.FIRST_LOGIN_REQUEST}),Object(R.k)().then((function(){e(function(t){return{type:zt.a.FIRST_LOGIN_SUCCESS,payload:{user:t}}}(t))})).catch=function(t){var n;console.error("first login rejected"),e((n=t,{type:zt.a.FIRST_LOGIN_FAILURE,payload:n}))}}}var $t=n(5),Xt=function(){return{type:$t.a.ADD_TODOLIST_REQUEST}},Zt=function(t){var e=t.list_name,n=t.user_id,a=t.list_color,r=t.id;return{type:$t.a.ADD_TODOLIST_SUCCESS,payload:{list_name:e,user_id:n,list_color:a,id:r}}},te=function(t){return{type:$t.a.ADD_TODOLIST_FAILURE,payload:t}};function ee(t){return function(e){e(Xt()),Qt(t).then((function(){e(Zt(t))})).catch=function(t){console.error("add todolist rejected"),e(te(t))}}}function ne(t){return function(e){e({type:$t.a.INC_LIST_COUNT_REQUEST}),Object(R.j)(t.todoLists_count).then((function(){e(function(t){var e=t.todoLists_count+1;return{type:$t.a.INC_LIST_COUNT_SUCCESS,payload:{user:t,newCount:e}}}(t))})).catch=function(t){var n;console.error("increce todo-lists count failed"),e((n=t,{type:$t.a.INC_LIST_COUNT_FAILURE,payload:n}))}}}function ae(t){return function(e){e({type:$t.a.REMOVE_LIST_REQUEST}),function(t){return pt.a.patch("".concat(b.a,"/todolist/lists/remove/").concat(t.id))}(t).then((function(){e(function(t){return{type:$t.a.REMOVE_LIST_SUCCESS,payload:{list:t}}}(t))})).catch=function(t){var n;console.error("first login rejected"),e((n=t,{type:$t.a.REMOVE_LIST_FAILURE,payload:n}))}}}function re(t){return function(e){e({type:$t.a.RESTORE_LIST_REQUEST}),function(t){return pt.a.patch("".concat(b.a,"/todolist/lists/restore/").concat(t.id))}(t).then((function(){e(function(t){return{type:$t.a.RESTORE_LIST_SUCCESS,payload:{list:t}}}(t))})).catch=function(t){var n;console.error("first login rejected"),e((n=t,{type:$t.a.RESTORE_LIST_FAILURE,payload:n}))}}}function oe(t){return function(e){e({type:$t.a.DELETE_LIST_REQUEST}),function(t){return pt.a.delete("".concat(b.a,"/todolist/lists/delete/").concat(t.id))}(t).then((function(){e(function(t){return{type:$t.a.DELETE_LIST_SUCCESS,payload:{list:t}}}(t))})).catch=function(t){var n;console.error("first login rejected"),e((n=t,{type:$t.a.DELETE_LIST_FAILURE,payload:n}))}}}function ce(t,e){return function(n){n({type:$t.a.CHANGE_LIST_COLOR_REQUEST}),function(t,e){return Ht.apply(this,arguments)}(t,e).then((function(){n(function(t,e){return{type:$t.a.CHANGE_LIST_COLOR_SUCCESS,payload:{list:t,color:e}}}(t,e))})).catch=function(t){var e;console.error("first login rejected"),n((e=t,{type:$t.a.CHANGE_LIST_COLOR_FAILURE,payload:e}))}}}function se(t){return function(e){e({type:$t.a.HISTORY_BTN_REQUEST}),function(){return qt.apply(this,arguments)}().then((function(){e(function(t){return{type:$t.a.HISTORY_BTN_SUCCESS,payload:t}}(t))})).catch=function(t){var n;console.error("first login rejected"),e((n=t,{type:$t.a.HISTORY_BTN_FAILURE,payload:n}))}}}function ie(t){return function(e){e(function(t){return{type:$t.a.IN_EDIT_LIST,payload:{listId:t}}}(t))}}function ue(t){return function(e){e(function(t){return{type:$t.a.OUT_EDIT_LIST,payload:{listId:t}}}(t))}}function le(t,e){return function(n){n({type:$t.a.EDIT_LIST_NAME_REQUEST}),function(t,e){return pt.a.patch("".concat(b.a,"/todolist/lists/edit-list-name/").concat(t),{value:e})}(t,e).then((function(){n(function(t,e){return{type:$t.a.EDIT_LIST_NAME_SUCCESS,payload:{listId:t,value:e}}}(t,e))})).catch=function(t){var e;console.error("first login rejected"),n((e=t,{type:$t.a.EDIT_LIST_NAME_FAILURE,payload:e}))}}}var de=n(31),pe=n(11);function Ee(t,e){return function(n){n({type:pe.a.ADD_TODO_REQUEST}),function(t,e){return Ft.apply(this,arguments)}(t,e).then((function(){n(function(t,e){return{type:pe.a.ADD_TODO_SUCCESS,payload:{todo:t,listId:e}}}(t,e))})).catch=function(t){var e;console.error("first login rejected"),n((e=t,{type:pe.a.ADD_TODO_FAILURE,payload:e}))}}}function Oe(t,e,n){return function(a){a({type:pe.a.EDIT_TODO_REQUEST}),function(t,e,n){return wt.apply(this,arguments)}(t,e,n).then((function(){a(function(t,e,n){return{type:pe.a.EDIT_TODO_SUCCESS,payload:{todo:t,listId:e,newText:n}}}(t,e,n))})).catch=function(t){var e;console.error("first login rejected"),a((e=t,{type:pe.a.EDIT_TODO_FAILURE,payload:e}))}}}function fe(t,e){return function(n){console.log(t,e),n({type:pe.a.TOGGLE_ISCHECKED_REQUEST}),console.log(111),function(t,e){return Pt.apply(this,arguments)}(t,e).then((function(){console.log(222),n(function(t,e){return{type:pe.a.TOGGLE_ISCHECKED_SUCCESS,payload:{listId:t,todo:e}}}(t,e)),console.log(333)})).catch=function(t){var e;console.error("first login rejected"),n((e=t,{type:pe.a.TOGGLE_ISCHECKED_FAILURE,payload:e}))}}}function _e(t){return function(e){e({type:pe.a.INC_TODOS_COUNT_REQUEST}),function(t){return Yt.apply(this,arguments)}(t).then((function(){e(function(t){return{type:pe.a.INC_TODOS_COUNT_SUCCESS,payload:{listId:t}}}(t))})).catch=function(t){var n;console.error("increce todo-lists count failed"),e((n=t,{type:pe.a.INC_TODOS_COUNT_FAILURE,payload:n}))}}}function he(t,e){return function(n){n({type:pe.a.REMOVE_TODO_REQUEST}),function(t,e){return pt.a.patch("".concat(b.a,"/todoList/todos/remove/").concat(e),t)}(t,e).then((function(){n(function(t,e){return{type:pe.a.REMOVE_TODO_SUCCESS,payload:{todo:t,listId:e}}}(t,e))})).catch=function(t){var e;console.error("first login rejected"),n((e=t,{type:pe.a.REMOVE_TODO_FAILURE,payload:e}))}}}function je(t,e){return function(n){n({type:pe.a.RESTORE_TODO_REQUEST}),function(t,e){return pt.a.patch("".concat(b.a,"/todoList/todos/restore/").concat(e),t)}(t,e).then((function(){n(function(t,e){return{type:pe.a.RESTORE_TODO_SUCCESS,payload:{todo:t,listId:e}}}(t,e))})).catch=function(t){var e;console.error("first login rejected"),n((e=t,{type:pe.a.RESTORE_TODO_FAILURE,payload:e}))}}}function be(t,e){return function(n){n({type:pe.a.DELETE_TODO_REQUEST}),function(t,e){return pt.a.patch("".concat(b.a,"/todoList/todos/delete/").concat(e),t)}(t,e).then((function(){n(function(t,e){return{type:pe.a.DELETE_TODO_SUCCESS,payload:{todo:t,listId:e}}}(t,e))})).catch=function(t){var e;console.error("first login rejected"),n((e=t,{type:pe.a.DELETE_TODO_FAILURE,payload:e}))}}}function me(t,e){return function(n){n(function(t,e){return{type:pe.a.IN_EDIT_TODO,payload:{todo:t,listId:e}}}(t,e))}}function Se(t,e){return function(n){n(function(t,e){return{type:pe.a.OUT_EDIT_TODO,payload:{todo:t,listId:e}}}(t,e))}}var Te=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={text:""},t.valueChange=function(e){t.setState({text:e.target.value})},t.doSubmit=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(t.state.text.length>0)){e.next=10;break}return a=t.props.list,r=a.id,o=a.todosCount+1,c={title:t.state.text,isChecked:!1,id:r+"-"+o,isDeleted:!1,inEdit:!1},e.next=8,t.props.addTodo(c,r);case 8:return e.next=10,t.props.incTodosCount(r);case 10:t.setState({text:""}),t.textInput.focus();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(p.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{className:"todoForm_input",children:Object(a.jsxs)("form",{className:"form",autoComplete:"off",name:"newTodo_form",children:[Object(a.jsx)("input",{ref:function(e){t.textInput=e},className:"",type:"text",value:this.state.text,onChange:function(e){return t.valueChange(e)}}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(e){t.doSubmit(e)},children:"Add"})]})})}}]),n}(L),ve=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{addTodo:function(e,n){return t(Ee(e,n))},incTodosCount:function(e){return t(_e(e))}}}))(Te),Ie=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={todoValue:""},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.todo;this.setState({todoValue:t.title})}},{key:"handleChange",value:function(t){this.setState({todoValue:t.target.value})}},{key:"handleEditTodo",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=this.state.todoValue).length>0)){t.next=6;break}return t.next=4,this.props.editTodo(n,e.id,a);case 4:t.next=8;break;case 6:return t.next=8,this.props.editTodo(n,e.id,n.title);case 8:return t.next=10,this.props.outEditTodo(n,e.id);case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props,n=e.todo,r=e.list;return Object(a.jsx)("div",{children:Object(a.jsx)("input",{ref:function(e){t.textInput=e&&e.focus()},className:"item",value:this.state.todoValue,onChange:function(e){t.handleChange(e)},onBlur:function(){t.handleEditTodo(r,n)}})})}}]),n}(r.Component),Ce=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{outEditTodo:function(e,n){return t(Se(e,n))},editTodo:function(e,n,a){return t(Oe(e,n,a))}}}))(Ie),ge=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={inEdit:!1},t}return Object(p.a)(n,[{key:"handleDeleteTodo",value:function(t,e){console.log(t),this.props.removeTodo(t,e.id)}},{key:"toggleIsChecked",value:function(t,e){console.log(t.id),this.props.toggleIsChecked(t.id,e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.todo,r=e.list,c=e.history,s=this.props.data.search,i=ct(n.title,s);return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("div",{className:"flex todoItem_main",children:[!c&&Object(a.jsx)("input",{type:"checkbox",checked:n.isChecked,onChange:function(){return t.toggleIsChecked(r,n)}}),!n.inEdit&&Object(a.jsx)("div",{className:"item",onClick:function(){t.props.inEditTodo(n,r.id)},children:i}),n.inEdit&&Object(a.jsx)(Ce,{todo:n,list:r}),Object(a.jsx)("div",{className:"button_div",children:!c&&Object(a.jsx)("img",{src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/delete-759-552068.png",alt:"",className:"delete",onClick:function(){t.handleDeleteTodo(n,r)}})})]})})}}]),n}(r.Component),ye=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{removeTodo:function(e,n){return t(he(e,n))},inEditTodo:function(e,n){return t(me(e,n))},toggleIsChecked:function(e,n){return t(fe(e,n))}}}))(ge),Ue={purple:"#D7AEFB",red:"#EA715A",yellow:"#F7E6AF",green:"#AED67B",gray:"#D5DEE9",pink:"#F096BE"},xe=function(){var t=Math.floor(Math.random()*Object.keys(Ue).length);return Object.values(Ue)[t]},De=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(p.a)(n,[{key:"handleRestoreTodo",value:function(t,e){this.props.restoreTodo(t,e.id)}},{key:"handleDELETEtodo",value:function(t,e){this.props.DELETEtodo(t,e.id)}},{key:"render",value:function(){var t=this,e=this.props,n=e.todo,r=e.list,c=e.history,s=this.props.data.search;return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("div",{className:"flex removeItem_main",children:[Object(a.jsxs)("div",{className:"item",children:[ct(n.title,s)," "]}),!c&&Object(a.jsxs)("div",{className:"img_div",children:[Object(a.jsx)("img",{src:"https://cdn1.iconfinder.com/data/icons/social-messaging-ui-color/254000/04-512.png",alt:"",className:"restore",onClick:function(){t.handleRestoreTodo(n,r)}}),Object(a.jsx)("img",{src:"https://freepikpsd.com/wp-content/uploads/2019/10/delete-icon-png-8-Transparent-Images.png",alt:"",className:"restore",onClick:function(){t.handleDELETEtodo(n,r)}})]})]})})}}]),n}(r.Component),Le=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{restoreTodo:function(e,n){return t(je(e,n))},DELETEtodo:function(e,n){return t(be(e,n))}}}))(De),Re=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={listName:""},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.list;this.setState({listName:t.list_name})}},{key:"handleChange",value:function(t){this.setState({listName:t.target.value})}},{key:"handleEditListName",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=this.state.listName).length>0)){t.next=6;break}return t.next=4,this.props.editListName(e.id,n);case 4:t.next=8;break;case 6:return t.next=8,this.props.editListName(e.id,e.list_name);case 8:return t.next=10,this.props.outEditList(e.id);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.list;return Object(a.jsx)("div",{children:Object(a.jsx)("input",{ref:function(e){t.textInput=e&&e.focus()},value:this.state.listName,onChange:function(e){t.handleChange(e)},onBlur:function(){t.handleEditListName(e)}})})}}]),n}(r.Component),Ne=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{outEditList:function(e){return t(ue(e))},editListName:function(e,n){return t(le(e,n))}}}))(Re),ke=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={colorEdit:!1},t}return Object(p.a)(n,[{key:"removeTodoList",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt();case 2:return a=t.sent,t.next=5,this.props.removeList(e,a);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"toggleEditColors",value:function(t){console.log(111),this.state.colorEdit?this.setState({colorEdit:!1}):this.setState({colorEdit:!0})}},{key:"handdleColor",value:function(t,e){this.props.listChangeColor(t,e)}},{key:"someFunc",value:function(t){return t.some((function(t){return t.isDeleted}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.list,r=e.i,c=this.props.data,s=c.user,i=c.search,u=Object(de.a)(Object.values(Ue)),l=this.state,d=ct(n.list_name,i);return Object(a.jsx)(o.a.Fragment,{children:n&&!n.isDeleted&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("div",{className:"todoList_main",style:{backgroundColor:n.list_color},children:[Object(a.jsxs)("div",{className:"todoList_main_flex",children:[!n.inEditTitle&&Object(a.jsx)("h4",{onClick:function(){t.props.inEditList(n.id)},children:d}),n.inEditTitle&&Object(a.jsx)(Ne,{list:n}),Object(a.jsxs)("div",{className:"flex3",children:[Object(a.jsx)("img",{src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/color-plate-58-808898.png",alt:"edit colors",onClick:function(){t.toggleEditColors(l)}}),Object(a.jsx)("img",{src:"https://cdn.iconscout.com/icon/premium/png-256-thumb/delete-759-552068.png",alt:"",onClick:function(){t.removeTodoList(n,s)}})]}),this.state.colorEdit&&Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("div",{className:"colors_div",children:u&&u.map((function(e,r){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)("div",{style:{backgroundColor:e},onClick:function(){t.handdleColor(n,e)}})},r)}))})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(ve,{list:n,i:r})}),Object(a.jsxs)("div",{children:[n.todos&&n.todos.length&&n.todos.map((function(t,e){return Object(a.jsx)(o.a.Fragment,{children:!t.isDeleted&&Object(a.jsx)(ye,{list:n,todo:t})},e)})),n.todos&&n.todos.length&&this.someFunc(n.todos)&&Object(a.jsx)("hr",{}),n.todos&&n.todos.length&&n.todos.map((function(t,e){return Object(a.jsx)(o.a.Fragment,{children:t.isDeleted&&Object(a.jsx)(Le,{list:n,todo:t})},e)}))]})]})})})}}]),n}(r.Component),Ae=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{removeList:function(e){return t(ae(e))},listChangeColor:function(e,n){return t(ce(e,n))},inEditList:function(e){return t(ie(e))}}}))(ke),Me=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={list_name:""},t.valueChange=function(e){t.setState({list_name:e.target.value})},t.doSubmit=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=t.props.data.user,r=t.state.list_name,o=a.todoLists_count+1,o=a._id+"-"+String(o),e.next=7,xe();case 7:return c=e.sent,""===(s={list_name:r,user_id:a._id,id:o,list_color:c,peack_color:!1}).list_name&&(s.list_name="New Todo List"),e.prev=10,e.next=13,t.props.addTodoList(s);case 13:return e.next=15,t.props.incListsCount(a);case 15:Object(_.b)("new todo list added"),t.setState({list_name:""}),n.target.value="",t.textInput.value="",t.textInput.focus(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),console.log("bahhhh");case 25:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(t){return e.apply(this,arguments)}}(),t}return Object(p.a)(n,[{key:"render",value:function(){var t=this,e=this.props.data.user;return Object(a.jsx)("div",{className:"newList_form",children:!e.todos_history&&Object(a.jsxs)("form",{className:"form",autoComplete:"off",name:"newList_form",onSubmit:function(e){t.doSubmit(e)},children:[Object(a.jsx)("input",{ref:function(e){t.textInput=e},className:"",type:"text",value:this.state.text,onChange:function(e){return t.valueChange(e)}}),Object(a.jsx)("button",{className:"btn btn-primary",children:"Add"})]})})}}]),n}(L),Fe=Object(j.b)((function(t,e){return{data:t.data}}),(function(t){return{addTodoList:function(e,n){return t(ee(e,n))},incListsCount:function(e){return t(ne(e))}}}))(Me),we=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(p.a)(n,[{key:"handleClick",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.historyBtnToggler(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.data.user,n=e.todos_history;return Object(a.jsx)("div",{className:"",children:Object(a.jsxs)("button",{className:"btn btn-info history_btn",onClick:function(){t.handleClick(e)},children:[!n&&Object(a.jsx)(o.a.Fragment,{children:"Todos History"}),n&&Object(a.jsx)(o.a.Fragment,{children:"Todo-Lists"})]})})}}]),n}(r.Component),Pe=Object(j.b)((function(t,e){return{data:t.data}}),(function(t){return{historyBtnToggler:function(e){return t(se(e))}}}))(we),Qe=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"someFunc",value:function(t){return t.some((function(t){return t.isDeleted}))}},{key:"handdleRestore",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.restoreList(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handdleDELETE",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt();case 2:t.sent&&this.props.DELETElist(e);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.list;return Object(a.jsx)("div",{className:"todoList_main",style:{backgroundColor:e.list_color},children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"todoList_main_flex",children:[Object(a.jsx)("h4",{children:e.list_name}),Object(a.jsxs)("div",{className:"flex3",children:[Object(a.jsx)("img",{src:"https://cdn1.iconfinder.com/data/icons/social-messaging-ui-color/254000/04-512.png",alt:"edit colors",onClick:function(){t.handdleRestore(e)}}),Object(a.jsx)("img",{src:"https://freepikpsd.com/wp-content/uploads/2019/10/delete-icon-png-8-Transparent-Images.png",alt:"",onClick:function(){t.handdleDELETE(e)}})]})]}),Object(a.jsxs)("div",{children:[e.todos&&e.todos.length&&e.todos.map((function(t,n){return Object(a.jsx)(o.a.Fragment,{children:!t.isDeleted&&Object(a.jsx)(ye,{list:e,todo:t,history:!0})},n)})),e.todos&&e.todos.length&&this.someFunc(e.todos)&&Object(a.jsx)("hr",{})," ",e.todos&&e.todos.length&&e.todos.map((function(t,n){return Object(a.jsx)(o.a.Fragment,{children:t.isDeleted&&Object(a.jsx)(Le,{list:e,todo:t,history:!0})},n)}))]})]})})}}]),n}(r.Component),Ge=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{restoreList:function(e){return t(re(e))},DELETElist:function(e){return t(oe(e))}}}))(Qe),He=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={title:"Todos",sortLists:"asc"},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==(e=this.props.data.user).firstLogin){t.next=4;break}return t.next=4,this.hadleFirstTodoList(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"hadleFirstTodoList",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e._id,t.t1=e._id+"-1",t.next=4,xe();case 4:return t.t2=t.sent,n={list_name:"My First TodoList",user_id:t.t0,id:t.t1,list_color:t.t2},t.next=8,this.props.addTodoList(n);case 8:return t.next=10,this.props.firstLogin(e);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sortChange",value:function(t){this.setState({sortLists:t.target.value})}},{key:"render",value:function(){var t,e=this,n=this.props.data,r=n.user,c=n.search,s=this.props.data.userTodos;if(null===Object(R.f)())return Object(a.jsx)(f.a,{to:"/"});var i=r.todos_history;return t=i?"Todos History":this.state.title,c.length>0&&(s=function(t,e){return t.filter((function(t){return t.list_name.toLowerCase().includes(e.toLowerCase())||t.todos.find((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))}))}(s,c),t+=" Search"),"desc"===this.state.sortLists&&(s=s.reverse()),Object(a.jsx)("div",{className:i?"todos_history":"todos",children:Object(a.jsxs)("div",{className:"strech",children:[Object(a.jsx)(Nt,{title:t}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"todos_manu",children:[Object(a.jsx)(Fe,{}),Object(a.jsx)(Pe,{})]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"select_div",children:Object(a.jsxs)("select",{onChange:function(t){e.sortChange(t)},children:[Object(a.jsx)("option",{value:"asc",children:"new to old"}),Object(a.jsx)("option",{value:"desc",children:"old to new"})]})}),Object(a.jsxs)("div",{className:"lists",children:[!r.todos_history&&s&&s.length>0&&s.map((function(t,e){return Object(a.jsx)(o.a.Fragment,{children:!t.isDeleted&&Object(a.jsx)(Ae,{list:t,i:e})},e)})),!r.todos_history&&s&&0===s.filter((function(t){return!0!==t.isDeleted})).length&&Object(a.jsx)("div",{className:"noTodos_div",children:Object(a.jsx)("div",{children:"no active todoList, start a new list"})}),r.todos_history&&s&&s.length>0&&s.map((function(t,e){return Object(a.jsx)(o.a.Fragment,{children:t.isDeleted&&Object(a.jsx)(Ge,{list:t,i:e})},e)})),r.todos_history&&s&&0===s.filter((function(t){return!0===t.isDeleted})).length&&Object(a.jsx)("div",{className:"noTodos_div",children:Object(a.jsx)("div",{children:"no deleted TodoList, mabie next time.."})})]})]})]})})}}]),n}(r.Component),Be=Object(j.b)((function(t,e){return{data:t.data}}),(function(t){return{fetchData:function(){return t(Jt())},firstLogin:function(e){return t(Wt(e))},addTodoList:function(e){return t(ee(e))}}}))(He),Ke=n(32),Ve=function(t){return function(t){t({type:Ke.c}),Object(w.g)().then((function(e){var n=e.data.map((function(t){return t}));Object(R.e)().then((function(e){var a=e.data.map((function(t){return t}));t(function(t,e){return{type:Ke.d,payload:{posts:t,users:e}}}(n,a))}))})).catch((function(e){t(function(t){return{type:Ke.b,payload:t}}(e))}))}},Ye=n(37);function qe(t,e){return console.log(t),function(n){n({type:Ye.a.EDIT_USER_REQUEST}),Object(R.d)(t).then((function(){n(function(t,e){return console.log(t),{type:Ye.a.EDIT_USER_SUCCESS,payload:{user:t,userId:e}}}(t,e))})).catch=function(t){var e;console.error("user edit rejected"),n((e=t,{type:Ye.a.EDIT_USER_FAILURE,payload:e}))}}}var Je=n(38);function ze(t){return function(e){e({type:Je.a.DELETE_USER_REQUEST}),Object(R.a)().then((function(){e(function(t){return{type:Je.a.DELETE_USER_SUCCESS,payload:{userId:t}}}(t))})).catch=function(t){var n;console.error("increce todo-lists count failed"),e((n=t,{type:Je.a.DELETE_USER_FAILURE,payload:n}))}}}var We=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).state={data:{first_name:"",last_name:"",email:"",cell:"",password:"",password_confirm:""},errors:{},img_value:""},a.schema=R.l,a.doSubmit=Object(l.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.props.data.user,(n=Object(I.a)({},a.state.data)).biz=e.biz,n.gender=e.gender,t.prev=4,t.next=7,a.props.editUser(n,e._id);case 7:Object(_.b)("".concat(n.first_name," edit profile successfully")),a.props.history.replace("/posts"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("edit post failed",t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])}))),a.first_name=o.a.createRef(),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.data.user;this.setState({data:{first_name:t.first_name,last_name:t.last_name,email:t.email,cell:t.cell}})}},{key:"handdleDELETE",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,a,r,o,c,s,i,l,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.props.data,a=n.userTodos,r=n.imgs,t.next=3,rt();case 3:if(!t.sent){t.next=43;break}o=Object(g.a)(a),t.prev=6,o.s();case 8:if((c=o.n()).done){t.next=14;break}return s=c.value,t.next=12,this.props.DELETElist(s);case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),o.e(t.t0);case 19:return t.prev=19,o.f(),t.finish(19);case 22:i=Object(g.a)(r),t.prev=23,i.s();case 25:if((l=i.n()).done){t.next=32;break}if((d=l.value).user_id!==e._id){t.next=30;break}return t.next=30,this.props.DELeteImg(d.id);case 30:t.next=25;break;case 32:t.next=37;break;case 34:t.prev=34,t.t1=t.catch(23),i.e(t.t1);case 37:return t.prev=37,i.f(),t.finish(37);case 40:return t.next=42,this.props.DeleteUser(e._id);case 42:window.location="/login";case 43:case"end":return t.stop()}}),t,this,[[6,16,19,22],[23,34,37,40]])})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.data.user;return Object(R.f)()?(console.log(this.state.img_value),Object(a.jsx)("div",{id:"createAcc_container",children:Object(a.jsxs)("div",{id:"create_account",className:"create_account middleDiv",children:[Object(a.jsx)("h1",{className:"create_account_h1",children:"Edit Account"}),Object(a.jsxs)("form",{className:"create_account_form container",action:"/login/create_account",method:"POST",autoComplete:"off",name:"account_formm",onSubmit:this.handleSubmit,children:[this.renderInput("first_name","First Name","text","Enter your First Name"),this.renderInput("last_name","Last Name","text","Enter your Last Name"),this.renderInput("email","Email","email","Enter your email"),this.renderInput("cell","Cell","phone","Enter your Cell"),this.renderInput("password","Password","password","Enter your password"),this.renderInput("password_confirm","Password Confirm","password","ReEnter your password"),this.renderButton("Edit")]}),Object(a.jsx)("div",{className:"delete_user_div",children:Object(a.jsx)("img",{className:"btn",src:"/imgs/icons/delete-red.png",alt:"",onClick:function(){t.handdleDELETE(e)}})})]})})):Object(a.jsx)(f.a,{to:"/"})}}]),n}(L),$e=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{editUser:function(e,n){return t(qe(e,n))},DeleteUser:function(e){return t(ze(e))},DELETElist:function(e){return t(oe(e))},DELeteImg:function(e){return t(Ut(e))}}}))(We),Xe=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={img_value:"/imgs/icons/user_icon.png",targetImg:""},t}return Object(p.a)(n,[{key:"handleImg",value:function(t){this.setState({img_value:URL.createObjectURL(t.target.files[0]),targetImg:t.target.files[0]})}},{key:"uploadImage",value:function(){var t=Object(l.a)(u.a.mark((function t(e,n){var a,r,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.filter((function(t){return t.user_id===e._id})),console.log(a),r=e.imgCounter+1,console.log(r),(o=new FormData).append("imageName","multer-image-"+Date.now()),o.append("imageData",this.state.targetImg),o.append("imageCount",r),o.append("bool",1===r),t.prev=9,t.next=12,this.props.addImg(o,this.state.img_value,e._id,r);case 12:return t.next=14,this.props.uploadUserImg(e);case 14:return t.next=16,this.props.imgCounterInc(e);case 16:if(a.length){t.next=20;break}return c="".concat(e._id,"-").concat(r),t.next=20,this.props.changeProfileImg(c,e._id);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),console.error("error upload image");case 25:this.setState({targetImg:"",img_value:"/imgs/icons/user_icon.png"}),this.fileInput.value="";case 27:case"end":return t.stop()}}),t,this,[[9,22]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.targetImg,n=this.props.data,r=n.user,o=n.imgs;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"image_container",children:[Object(a.jsx)("p",{className:"procces_details",children:"Upload image here"}),Object(a.jsxs)("div",{className:"process",children:[Object(a.jsx)("input",{ref:function(e){t.fileInput=e},type:"file",className:"process_upload-btn",onInput:function(e){return t.handleImg(e,"multer",r)}}),Object(a.jsx)("img",{src:this.state.img_value,alt:"upload",className:"process_image"})]}),e&&Object(a.jsx)("div",{className:"img_btn_div",children:Object(a.jsx)("button",{className:"img_btn",type:"button",onClick:function(e){t.uploadImage(r,o,e)},children:"Set Image"})})]})})}}]),n}(r.Component),Ze=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{addImg:function(e,n,a,r){return t(vt(e,n,a,r))},uploadUserImg:function(e){return t(Tt(e))},changeProfileImg:function(e,n){return t(Ct(e,n))},imgCounterInc:function(e){return t(It(e))}}}))(Xe),tn=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={counter:0},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.index;this.setState({counter:t})}},{key:"baxt",value:function(t,e){var n=this.state.counter;return"back"===t?0===n?this.setState({counter:e.length-1}):this.setState({counter:--n}):"next"===t?n===e.length-1?this.setState({counter:0}):this.setState({counter:++n}):void 0}},{key:"closeBigImg",value:function(){this.props.closeImgs(!1)}},{key:"setProfileImg",value:function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.changeProfileImg(e.id,e.user_id);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.myImgs,n="".concat(b.b,"/").concat(e[this.state.counter].imageData),r=e[this.state.counter];return n.includes("/blob")&&(n=e[this.state.counter].imageData),Object(a.jsxs)("div",{className:"main_black",children:[Object(a.jsx)("div",{className:"black_screen",onClick:function(){t.closeBigImg()},children:Object(a.jsx)("div",{className:"x btn",children:"x"})}),Object(a.jsxs)("div",{className:"imd_div",children:[Object(a.jsx)("div",{className:" back",onClick:function(){t.baxt("back",e)},children:Object(a.jsx)("div",{className:"btn",children:" <"})}),Object(a.jsxs)("div",{className:"big_img",children:[Object(a.jsx)("img",{src:n,alt:""}),!r.isProfileImg&&Object(a.jsx)("div",{className:"btn btn-primary",onClick:function(){t.setProfileImg(r)},children:"Set Profile Image"}),r.isProfileImg&&Object(a.jsx)("div",{className:"btn btn-success",children:"Profile Image"})]}),Object(a.jsx)("div",{className:" next",onClick:function(){t.baxt("next",e)},children:Object(a.jsx)("div",{className:"btn",children:">"})})]})]})}}]),n}(r.Component),en=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{changeProfileImg:function(e,n){return t(Ct(e,n))}}}))(tn),nn=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={bigImg:!1,index:0,sortPosts:"asc"},t}return Object(p.a)(n,[{key:"openBigImg",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;this.setState({bigImg:t,index:e})}},{key:"sortChange",value:function(t){this.setState({sortPosts:t.target.value})}},{key:"render",value:function(){var t=this,e=this.props.data,n=e.imgs,r=e.user;if(null===Object(R.f)())return Object(a.jsx)(f.a,{to:"/"});var c=this.state,s=c.bigImg,i=c.sortPosts,u=n.reverse().filter((function(t){return t.user_id===r._id}));return console.log(u.length),u.length,"desc"===i&&(u=u.reverse()),Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)("div",{className:"imgs_main",children:[Object(a.jsx)(Nt,{title:"My Images"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{children:Object(a.jsx)(Ze,{})}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"select_div",children:Object(a.jsxs)("select",{onChange:function(e){t.sortChange(e)},children:[Object(a.jsx)("option",{value:"asc",children:"new to old"}),Object(a.jsx)("option",{value:"desc",children:"old to new"})]})}),Object(a.jsxs)("div",{className:"imgs",children:[u&&u.length>0&&u.map((function(e,n){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsx)(Dt,{className:"two",img:e,i:n,openBigImg:function(){t.openBigImg(!0,n)}})},n)})),u&&0===u.length&&Object(a.jsx)("div",{className:"noImg_div",children:Object(a.jsx)("div",{children:"no imgase yet, upload your first profile image"})})]}),this.state.bigImg&&Object(a.jsx)(en,{index:this.state.index,img:s,myImgs:u,closeImgs:function(){t.openBigImg(!1)}})]})})}}]),n}(r.Component),an=Object(j.b)((function(t){return{data:t.data}}),(function(t){return{}}))(nn),rn=function(){return Object(a.jsxs)("p",{className:"border-top pt-3 text-center footer",children:["MyT \xa9 by shay tamir ",(new Date).getFullYear()]})},on=function(t){Object(E.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=R.c.getCurrentUser(),this.setState({user:e}),!e){t.next=7;break}return t.next=5,this.props.fetchData();case 5:t.next=9;break;case 7:return t.next=9,this.props.fetchPosts();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){this.props.user;var t=this.state.user;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)(_.a,{}),Object(a.jsx)(v,{user:t})]}),Object(a.jsx)("main",{className:"main",children:Object(a.jsxs)(f.d,{children:[Object(a.jsx)(f.b,{path:"/home",component:At}),Object(a.jsx)(f.b,{path:"/posts",component:At}),Object(a.jsx)(f.b,{path:"/todos",component:Be}),Object(a.jsx)(f.b,{path:"/my-images",component:an}),Object(a.jsx)(f.b,{path:"/edit-profile",component:$e}),Object(a.jsx)(f.b,{path:"/login",component:k}),Object(a.jsx)(f.b,{path:"/logout",component:A}),Object(a.jsx)(f.b,{path:"/create-account",component:N}),Object(a.jsx)(f.b,{path:"/Home",component:At}),Object(a.jsx)(f.b,{path:"/",component:At})]})}),Object(a.jsx)("footer",{children:Object(a.jsx)(rn,{})})]})}}]),n}(r.Component),cn=Object(j.b)((function(t,e){return{user:t.user,data:t.data}}),(function(t){return{fetchPosts:function(){return t(Ve())},fetchData:function(){return t(Jt())}}}))(on),sn=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),o(t),c(t)}))},un=(n(101),n(102),n(63),n(103),n(34)),ln=n(66),dn=n(67),pn=n.n(dn),En=function(t){return function(e,n,a){return t((function(t,n){var a,r=performance.now(),o=e(t,n),c=performance.now(),s=(a=c-r,Math.round(100*a)/100);return console.log("reducer process time:",s),o}),n,a)}},On=n(105).default,fn=n(107).default,_n=Object(un.applyMiddleware)(On,pn.a),hn=Object(ln.composeWithDevTools)({middlewareEnhancer:_n,monitorReducerEnhancer:En}),jn=Object(un.createStore)(fn,{},hn(_n));jn.subscribe((function(t){console.log(jn.getState())})),s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(h.a,{children:Object(a.jsx)(j.a,{store:jn,children:Object(a.jsx)(cn,{})})})}),document.getElementById("root")),sn()},107:function(t,e,n){"use strict";n.r(e);var a=n(34),r=n(2),o=n(31),c=n(32),s={posts:[],users:[],loading:!1,error:""},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c.a:var n=[].concat(Object(o.a)(t.posts),[{post:e.payload.post,user_id:e.payload.user_id}]);return Object(r.a)(Object(r.a)({},t),{},{posts:n});case c.c:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case c.d:return Object(r.a)(Object(r.a)({},t),{},{loading:!1,posts:e.payload.posts,users:e.payload.users,error:""});case c.b:return{loading:!1,posts:[],error:e.error};default:return t}},u=n(35),l=n(37),d=n(36),p=n(5),E=n(11),O=n(40),f=n(41),_=n(25),h=n(20),j=n(17),b=n(15),m=n(38),S={users:[],posts:[],user:{},userTodos:[],userPosts:[],imgs:[],loading:!1,error:"",search:""},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u.a.FETCH_DATA_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case u.a.FETCH_DATA_SUCCESS:return Object(r.a)(Object(r.a)({},t),{},{posts:e.payload.posts,users:e.payload.users,user:e.payload.user,userTodos:e.payload.userTodos,imgs:e.payload.imgs});case u.a.FETCH_DATA_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case f.b.ADD_POSTS_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case f.b.ADD_POSTS_SUCCESS:var n=e.payload.user._id+"-"+(e.payload.user.posts_count+1),a=e.payload.user.first_name+" "+e.payload.user.last_name,c=[{user_id:e.payload.user._id,post:e.payload.post,likes:[],comments:[],user_name:a,id:n,isEditOn:!1,isCommentsOn:!1}].concat(Object(o.a)(t.posts));return t.user.posts_count+=1,Object(r.a)(Object(r.a)({},t),{},{posts:c});case f.b.ADD_POSTS_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case _.a.LIKE_POST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case _.a.LIKE_POST_SUCCESS:var s=t.posts.find((function(t){return t.id===e.payload.postId}));return s.likes=[].concat(Object(o.a)(s.likes),[e.payload.userId]),Object(r.a)({},t);case _.a.LIKE_POST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case _.a.UNLIKE_POST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case _.a.UNLIKE_POST_SUCCESS:var i=t.posts.find((function(t){return t.id===e.payload.postId}));return i.likes=i.likes.filter((function(t){return t===e.payload.userId})),Object(r.a)({},t);case _.a.UNLIKE_POST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case h.a.EDIT_ON:var T=t.posts.find((function(t){return t.id===e.payload.postId}));return T.isEditOn=!0,Object(r.a)({},t);case h.a.EDIT_OFF:var v=t.posts.find((function(t){return t.id===e.payload.postId}));return v.isEditOn=!1,Object(r.a)({},t);case h.a.EDIT_POST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case h.a.EDIT_POST_SUCCESS:var I=t.posts.find((function(t){return t.id===e.payload.postId}));return I.post=e.payload.value,Object(r.a)({},t);case h.a.EDIT_POST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case j.a.ADD_COMMENT_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case j.a.ADD_COMMENT_SUCCESS:var C=t.posts.find((function(t){return t.id===e.payload.postId}));return C.comments.push(e.payload.comment),Object(r.a)({},t);case j.a.ADD_COMMENT_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case j.a.COMMENTS_POST_ON:var g=t.posts.find((function(t){return t.id===e.payload.postId}));return g.isCommentsOn=!0,Object(r.a)({},t);case j.a.COMMENTS_POST_OFF:var y=t.posts.find((function(t){return t.id===e.payload.postId}));return y.isCommentsOn=!1,Object(r.a)({},t);case j.a.EDIT_COMMENT_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case j.a.EDIT_COMMENT_SUCCESS:var U=t.posts.find((function(t){return t.id===e.payload.postId})),x=U.comments.find((function(t){return t.id===e.payload.comment.id}));return x.comment=e.payload.newValue,Object(r.a)({},t);case j.a.EDIT_COMMENT_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case j.a.COMMENTS_IN_EDIT:var D=t.posts.find((function(t){return t.id===e.payload.postId})),L=D.comments.find((function(t){return t.id===e.payload.commentId}));return L.inEdit=!0,Object(r.a)({},t);case j.a.COMMENTS_OUT_EDIT:var R=t.posts.find((function(t){return t.id===e.payload.postId})),N=R.comments.find((function(t){return t.id===e.payload.commentId}));return N.inEdit=!1,Object(r.a)({},t);case j.a.DELETE_COMMENT_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case j.a.DELETE_COMMENT_SUCCESS:var k=t.posts.find((function(t){return t.id===e.payload.postId}));return k.comments=k.comments.filter((function(t){return t.id!==e.payload.comment.id})),Object(r.a)({},t);case j.a.DELETE_COMMENT_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case h.a.DELETE_POST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case h.a.DELETE_POST_SUCCESS:var A=t.posts.filter((function(t){return t.id!==e.payload.postId}));return Object(r.a)(Object(r.a)({},t),{},{posts:A});case h.a.DELETE_POST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case l.a.EDIT_USER_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case l.a.EDIT_USER_SUCCESS:var M=e.payload.user;return M._id=e.payload.userId,Object(r.a)(Object(r.a)({},t),{},{user:Object(r.a)(Object(r.a)({},t.user),{},{editedUser:M})});case l.a.EDIT_USER_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case b.a.USER_UPLOAD_IMG_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case b.a.USER_UPLOAD_IMG_SUCCESS:var F=e.payload.user;return F.haveImg=!0,Object(r.a)({},t);case b.a.USER_UPLOAD_IMG_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case b.a.ADD_IMG_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case b.a.ADD_IMG_SUCCESS:var w="".concat(e.payload.userId,"-").concat(e.payload.imgCount),P=1===e.payload.imgCount,Q={imageName:"",imageData:e.payload.urlImg,user_id:e.payload.userId,id:w,isProfileImg:P,inEditMode:!1};return Object(r.a)(Object(r.a)({},t),{},{imgs:[].concat(Object(o.a)(t.imgs),[Q])});case b.a.ADD_IMG_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case b.a.PROFILE_IMG_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case b.a.PROFILE_IMG_SUCCESS:var G=t.imgs.find((function(t){return t.user_id===e.payload.userId&&!0===t.isProfileImg}));G.isProfileImg=!1;var H=t.imgs.find((function(t){return t.id===e.payload.imgId}));H.isProfileImg=!0;var B=t.users.find((function(t){return t._id===e.payload.userId}));return B.profile_img=e.payload.imgId,Object(r.a)({},t);case b.a.PROFILE_IMG_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case b.a.IN_IMG_EDIT_MODE:var K=t.imgs.find((function(t){return t.id===e.payload.imgId}));return K.inEditMode=!0,Object(r.a)({},t);case b.a.OUT_IMG_EDIT_MODE:var V=t.imgs.find((function(t){return t.id===e.payload.imgId}));return V.inEditMode=!1,Object(r.a)({},t);case b.a.IMG_COUNTER_INC_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case b.a.IMG_COUNTER_INC_SUCCESS:return t.user.imgCounter+=1,Object(r.a)({},t);case b.a.IMG_COUNTER_INCT_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case b.a.DELETE_IMG_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case b.a.DELETE_IMG_SUCCESS:var Y=t.imgs.filter((function(t){return t.id!==e.payload.imgId}));return Object(r.a)(Object(r.a)({},t),{},{imgs:Y});case b.a.DELETE_IMG_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case d.a.FIRST_LOGIN_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case d.a.FIRST_LOGIN_SUCCESS:var q=e.payload.user;return q.firstLogin=!0,Object(r.a)(Object(r.a)({},t),{},{user:q});case d.a.FIRST_LOGIN_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.ADD_TODOLIST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.ADD_TODOLIST_SUCCESS:var J=[{list_name:e.payload.list_name,user_id:e.payload.user_id,todos:[{id:1,isChecked:!0,title:"my first task",isDeleted:!1}],list_color:e.payload.list_color,id:e.payload.id,isDeleted:!1,todosCount:1,deleted_todos:[],inEditTitle:!1}].concat(Object(o.a)(t.userTodos));return Object(r.a)(Object(r.a)({},t),{},{userTodos:J});case p.a.ADD_TODOLIST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.INC_LIST_COUNT_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.INC_LIST_COUNT_SUCCESS:var z=e.payload.user;return z.todoLists_count=e.payload.newCount,Object(r.a)(Object(r.a)({},t),{},{user:z});case p.a.INC_LIST_COUNT_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.IN_EDIT_LIST:var W=t.userTodos.find((function(t){return t.id===e.payload.listId}));return W.inEditTitle=!0,Object(r.a)({},t);case p.a.OUT_EDIT_LIST:var $=t.userTodos.find((function(t){return t.id===e.payload.listId}));return $.inEditTitle=!1,Object(r.a)({},t);case p.a.EDIT_LIST_NAME_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.EDIT_LIST_NAME_SUCCESS:var X=t.userTodos.find((function(t){return t.id===e.payload.listId}));return X.list_name=e.payload.value,Object(r.a)({},t);case p.a.EDIT_LIST_NAME_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.CHANGE_LIST_COLOR_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.CHANGE_LIST_COLOR_SUCCESS:return Object(r.a)(Object(r.a)({},t),{},{userTodos:t.userTodos.map((function(t){return t.id===e.payload.list.id&&(t.list_color=null,t.list_color=e.payload.color),t}))});case p.a.CHANGE_LIST_COLOR_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.REMOVE_LIST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.REMOVE_LIST_SUCCESS:var Z=e.payload.list;return Z.isDeleted=!0,Object(r.a)({},t);case p.a.REMOVE_LIST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.RESTORE_LIST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.RESTORE_LIST_SUCCESS:var tt=e.payload.list;return tt.isDeleted=!1,Object(r.a)({},t);case p.a.RESTORE_LIST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.DELETE_LIST_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.DELETE_LIST_SUCCESS:return Object(r.a)(Object(r.a)({},t),{},{userTodos:t.userTodos.filter((function(t){return t.id!==e.payload.list.id}))});case p.a.DELETE_LIST_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case E.a.ADD_TODO_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case E.a.ADD_TODO_SUCCESS:var et=t.userTodos.find((function(t){return t.id===e.payload.listId}));return et.todos=[].concat(Object(o.a)(et.todos),[e.payload.todo]),Object(r.a)({},t);case E.a.ADD_TODO_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case E.a.EDIT_TODO_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case E.a.EDIT_TODO_SUCCESS:var nt=t.userTodos.find((function(t){return t.id===e.payload.listId}));return nt.todos.map((function(t){return t.id===e.payload.todo.id&&(t.title=e.payload.newText),t})),Object(r.a)({},t);case E.a.EDIT_TODO_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case E.a.TOGGLE_ISCHECKED_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case E.a.TOGGLE_ISCHECKED_SUCCESS:var at=t.userTodos.find((function(t){return t.id===e.payload.listId}));return at.todos.map((function(t){return t.id===e.payload.todo.id&&(t.isChecked?t.isChecked=!1:t.isChecked=!0),t})),Object(r.a)({},t);case E.a.TOGGLE_ISCHECKED_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case E.a.INC_TODOS_COUNT_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case E.a.INC_TODOS_COUNT_SUCCESS:var rt=t.userTodos.find((function(t){return t.id===e.payload.listId}));return rt.todosCount+=1,Object(r.a)({},t);case E.a.INC_TODOS_COUNT_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case E.a.IN_EDIT_TODO:var ot=t.userTodos.find((function(t){return t.id===e.payload.listId}));return ot.todos.map((function(t){return t.id===e.payload.todo.id&&(t.inEdit=!0),t})),Object(r.a)({},t);case E.a.OUT_EDIT_TODO:var ct=t.userTodos.find((function(t){return t.id===e.payload.listId}));return ct.todos.map((function(t){return t.id===e.payload.todo.id&&(t.inEdit=!1),t})),Object(r.a)({},t);case E.a.REMOVE_TODO_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case E.a.REMOVE_TODO_SUCCESS:var st=t.userTodos.find((function(t){return t.id===e.payload.listId}));return st.todos.map((function(t){return t.id===e.payload.todo.id&&(t.isDeleted=!0),t})),Object(r.a)({},t);case E.a.REMOVE_TODO_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case E.a.RESTORE_TODO_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case E.a.RESTORE_TODO_SUCCESS:var it=t.userTodos.find((function(t){return t.id===e.payload.listId}));return it.todos.map((function(t){return t.id===e.payload.todo.id&&(t.isDeleted=!1),t})),Object(r.a)({},t);case E.a.RESTORE_TODO_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case E.a.DELETE_TODO_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case E.a.DELETE_TODO_SUCCESS:var ut=t.userTodos.find((function(t){return t.id===e.payload.listId})),lt=ut.todos.filter((function(t){return t.id!==e.payload.todo.id}));return ut.todos=[],ut.todos=lt,Object(r.a)({},t);case E.a.DELETE_TODO_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case p.a.HISTORY_BTN_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case p.a.HISTORY_BTN_SUCCESS:var dt=e.payload;return dt.todos_history?dt.todos_history&&(dt.todos_history=!1):dt.todos_history=!0,Object(r.a)({},t);case p.a.HISTORY_BTN_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case O.a.SEARCH_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case O.a.SEARCH_SUCCESS:var pt=e.payload.value;return Object(r.a)(Object(r.a)({},t),{},{search:pt});case O.a.SEARCH_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});case m.a.DELETE_USER_REQUEST:return Object(r.a)(Object(r.a)({},t),{},{loading:!0});case m.a.DELETE_USER_SUCCESS:var Et=t.users.filter((function(t){return t._id!==e.payload.userId}));return Object(r.a)(Object(r.a)({},t),{},{users:Et});case m.a.DELETE_USER_FAILURE:return Object(r.a)(Object(r.a)({},t),{},{error:e.payload.error});default:return t}},v=Object(a.combineReducers)({posts:i,data:T});e.default=v},11:function(t,e,n){"use strict";var a={ADD_TODO_REQUEST:"ADD_TODO_REQUEST",ADD_TODO_SUCCESS:"ADD_TODO_SUCCESS",ADD_TODO_FAILURE:"ADD_TODO_FAILURE",IN_EDIT_TODO:"IN_EDIT_TODO",OUT_EDIT_TODO:"OUT_EDIT_TODO",EDIT_TODO_REQUEST:"EDIT_TODO_REQUEST",EDIT_TODO_SUCCESS:"EDIT_TODO_SUCCESS",EDIT_TODO_FAILURE:"EDIT_TODO_FAILURE",TOGGLE_ISCHECKED_REQUEST:"TOGGLE_ISCHECKED_REQUEST",TOGGLE_ISCHECKED_SUCCESS:"TOGGLE_ISCHECKED_SUCCESS",TOGGLE_ISCHECKED_FAILURE:"TOGGLE_ISCHECKED_FAILURE",INC_TODOS_COUNT_REQUEST:"INC_TODOS_COUNT_REQUEST",INC_TODOS_COUNT_SUCCESS:"INC_TODOS_COUNT_SUCCESS ",INC_TODOS_COUNT_FAILURE:"INC_TODOS_COUNT_FAILURE",REMOVE_TODO_REQUEST:"REMOVE_TODO_REQUEST",REMOVE_TODO_SUCCESS:"REMOVE_TODO_SUCCESS",REMOVE_TODO_FAILURE:"REMOVE_TODO_FAILURE",RESTORE_TODO_REQUEST:"RESTORE_TODO_REQUEST",RESTORE_TODO_SUCCESS:"RESTORE_TODO_SUCCESS",RESTORE_TODO_FAILURE:"RESTORE_TODO_FAILURE",DELETE_TODO_REQUEST:"DELETE_TODO_REQUEST",DELETE_TODO_SUCCESS:"DELETE_TODO_SUCCESS",DELETE_TODO_FAILURE:"DELETE_TODO_FAILURE"};e.a=a},13:function(t,e,n){"use strict";var a=n(39),r=n.n(a),o=n(28),c=n(14);r.a.defaults.headers.common["x-auth-token"]=Object(c.g)(),r.a.interceptors.response.use(null,(function(t){t.response&&t.response.status>=403&&Object(o.b)("An unexpected error has occured")}));var s={get:r.a.get,post:r.a.post,put:r.a.put,patch:r.a.patch,delete:r.a.delete};e.a=s},14:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"g",(function(){return E})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return _})),n.d(e,"a",(function(){return h})),n.d(e,"e",(function(){return j})),n.d(e,"d",(function(){return b})),n.d(e,"k",(function(){return S})),n.d(e,"j",(function(){return v})),n.d(e,"i",(function(){return C})),n.d(e,"l",(function(){return g}));var a=n(3),r=n.n(a),o=n(4),c=n(13),s=n(10),i=n(65),u=n(24),l=n.n(u),d="token";function p(t){console.log(333),c.a.post("".concat(s.a,"/users"),t)}function E(){return localStorage.getItem("token")}function O(){return(O=Object(o.a)(r.a.mark((function t(e,n){var a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("".concat(s.a,"/login"),{email:e,password:n});case 3:return a=t.sent,o=a.data,localStorage.setItem(d,o.token),t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function f(){try{var t=localStorage.getItem("token");return Object(i.a)(t)}catch(e){return null}}function _(){return c.a.get("".concat(s.a,"/users/me"))}function h(){return c.a.delete("".concat(s.a,"/users/me/delete"))}function j(){return c.a.get("".concat(s.a,"/users/get-all-users"))}function b(t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.patch("".concat(s.a,"/users/me"),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.patch("".concat(s.a,"/users/me/logs"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e+1,t.next=3,c.a.patch("".concat(s.a,"/users/me/todolists-count"),{newCount:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return c.a.patch("".concat(s.a,"/users/me/posts-count"))}var g={first_name:l.a.string().min(2).max(255).required().label("First Name"),last_name:l.a.string().min(2).max(255).required().label("Last Name"),email:l.a.string().min(6).max(255).required().email().label("Email"),cell:l.a.string().min(9).max(10).regex(/^0[2-9]\d{7,8}$/).label("Cell"),password:l.a.string().min(6).max(1024).required().label("Password"),password_confirm:l.a.string().required().min(6).max(1024).label("Password Confirm").valid(l.a.ref("password")).options({language:{any:{allowOnly:"!! "}}})},y={login:function(t,e){return O.apply(this,arguments)},getCurrentUser:f,logout:function(){localStorage.removeItem(d)},getJwt:E};e.c=y},15:function(t,e,n){"use strict";var a={USER_UPLOAD_IMG_REQUEST:"USER_UPLOAD_IMG_REQUEST",USER_UPLOAD_IMG_SUCCESS:"USER_UPLOAD_IMG_SUCCESS",USER_UPLOAD_IMG_FAILURE:"USER_UPLOAD_IMG_FAILURE",ADD_IMG_REQUEST:"ADD_IMG_REQUEST",ADD_IMG_SUCCESS:"ADD_IMG_SUCCESS",ADD_IMG_FAILURE:"ADD_IMG_FAILURE",IMG_COUNTER_INC_REQUEST:"IMG_COUNTER_INC_REQUEST",IMG_COUNTER_INC_SUCCESS:"IMG_COUNTER_INC_SUCCESS",IMG_COUNTER_INC_FAILURE:"IMG_COUNTER_INC_FAILURE",PROFILE_IMG_REQUEST:"PROFILE_IMG_REQUEST",PROFILE_IMG_SUCCESS:"PROFILE_IMG_SUCCESS",PROFILE_IMG_FAILURE:"PROFILE_IMG_FAILURE",DELETE_IMG_REQUEST:"DELETE_IMG_REQUEST",DELETE_IMG_SUCCESS:"DELETE_IMG_SUCCESS",DELETE_IMG_FAILURE:"DELETE_IMG_FAILURE",IN_IMG_EDIT_MODE:"IN_IMG_EDIT_MODE",OUT_IMG_EDIT_MODE:"OUT_IMG_EDIT_MODE"};e.a=a},17:function(t,e,n){"use strict";var a={COMMENTS_POST_ON:"COMMENTS_POST_ON",COMMENTS_POST_OFF:"COMMENTS_POST_OFF",COMMENTS_IN_EDIT:"COMMENTS_IN_EDIT",COMMENTS_OUT_EDIT:"COMMENTS_OUT_EDIT",ADD_COMMENT_REQUEST:"ADD_COMMENT_REQUEST",ADD_COMMENT_SUCCESS:"ADD_COMMENT_SUCCESS",ADD_COMMENT_FAILURE:"ADD_COMMENT_FAILURE",EDIT_COMMENT_REQUEST:"EDIT_COMMENT_REQUEST",EDIT_COMMENT_SUCCESS:"EDIT_COMMENT_SUCCESS",EDIT_COMMENT_FAILURE:"EDIT_COMMENT_FAILURE",DELETE_COMMENT_REQUEST:"DELETE_COMMENT_REQUEST",DELETE_COMMENT_SUCCESS:"DELETE_COMMENT_SUCCESS",DELETE_COMMENT_FAILURE:"DELETE_COMMENT_FAILURE"};e.a=a},20:function(t,e,n){"use strict";var a={EDIT_POST_REQUEST:"EDIT_POST_REQUEST",EDIT_POST_SUCCESS:"EDIT_POST_SUCCESS",EDIT_POST_FAILURE:"EDIT_POST_FAILURE",DELETE_POST_REQUEST:"DELETE_POST_REQUEST",DELETE_POST_SUCCESS:"DELETE_POST_SUCCESS",DELETE_POST_FAILURE:"DELETE_POST_FAILURE",EDIT_ON:"EDIT_ON",EDIT_OFF:"EDIT_OFF"};e.a=a},22:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return E})),n.d(e,"c",(function(){return O})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return _})),n.d(e,"a",(function(){return h}));var a=n(3),r=n.n(a),o=n(4),c=n(13),s=n(10);function i(t){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.post("".concat(s.a,"/posts"),{post:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return c.a.get("".concat(s.a,"/posts/get-all-posts"))}function d(t,e){return c.a.patch("".concat(s.a,"/posts/edit-post/").concat(t),{value:e})}function p(t){return c.a.patch("".concat(s.a,"/posts/liked/").concat(t))}function E(t){return c.a.patch("".concat(s.a,"/posts/un-liked/").concat(t))}function O(t,e){return c.a.patch("".concat(s.a,"/posts/add-comment/").concat(t),{comment:e})}function f(t,e,n){return c.a.patch("".concat(s.a,"/posts/edit-comment/").concat(t),{comment:e,newValue:n})}function _(t,e){return console.log(t),c.a.patch("".concat(s.a,"/posts/delete-comment/").concat(t),{comment:e})}function h(t){return console.log(t),c.a.delete("".concat(s.a,"/posts/").concat(t))}},25:function(t,e,n){"use strict";var a={LIKE_POST_REQUEST:"LIKE_POST_REQUEST",LIKE_POST_SUCCESS:"LIKE_POST_SUCCESS",LIKE_POST_FAILURE:"LIKE_POST_FAILURE",UNLIKE_POST_REQUEST:"UNLIKE_POST_REQUEST",UNLIKE_POST_SUCCESS:"UNLIKE_POST_SUCCESS",UNLIKE_POST_FAILURE:"UNLIKE_POST_FAILURE"};e.a=a},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c}));var a="ADD_POST",r="FETCH_POSTS_REQUEST",o="FETCH_POSTS_SUCCESS",c="FETCH_POSTS_FAILURE"},35:function(t,e,n){"use strict";var a={FETCH_DATA_REQUEST:"FETCH_DATA_REQUEST",FETCH_DATA_SUCCESS:"FETCH_DATA_SUCCESS",FETCH_DATA_FAILURE:"FETCH_DATA_FAILURE"};e.a=a},36:function(t,e,n){"use strict";var a={FIRST_LOGIN_REQUEST:"FIRST_LOGIN_REQUEST",FIRST_LOGIN_SUCCESS:"FIRST_LOGIN_SUCCESS",FIRST_LOGIN_FAILURE:"FIRST_LOGIN_FAILURE"};e.a=a},37:function(t,e,n){"use strict";var a={EDIT_USER_REQUEST:"EDIT_USER_REQUEST",EDIT_USER_SUCCESS:"EDIT_USER_SUCCESS",EDIT_USER_FAILURE:"EDIT_USER_FAILURE"};e.a=a},38:function(t,e,n){"use strict";var a={DELETE_USER_REQUEST:"DELETE_USER_REQUEST",DELETE_USER_SUCCESS:"DELETE_USER_SUCCESS",DELETE_USER_FAILURE:"DELETE_USER_FAILURE"};e.a=a},40:function(t,e,n){"use strict";var a={SEARCH_REQUEST:"SEARCH_REQUEST",SEARCH_SUCCESS:"SEARCH_SUCCESS",SEARCH_FAILURE:"SEARCH_FAILURE"};e.a=a},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(22),r="ADD_POSTS_REQUEST",o="ADD_POSTS_SUCCESS",c="ADD_POSTS_FAILURE";function s(t,e){return function(n){n({type:r}),Object(a.d)(t,e).then((function(){n(function(t,e){return{type:o,payload:{post:t,user:e}}}(t,e))})).catch=function(t){console.error("post rejected"),n({type:c,payload:t})}}}var i={ADD_POSTS_REQUEST:r,ADD_POSTS_SUCCESS:o,ADD_POSTS_FAILURE:c};e.b=i},5:function(t,e,n){"use strict";var a={ADD_TODOLIST_REQUEST:"ADD_TODOLIST_REQUEST",ADD_TODOLIST_SUCCESS:"ADD_TODOLIST_SUCCESS",ADD_TODOLIST_FAILURE:"ADD_TODOLIST_FAILURE",INC_LIST_COUNT_REQUEST:"INC_LIST_COUNT_REQUEST",INC_LIST_COUNT_SUCCESS:"INC_LIST_COUNT_SUCCESS ",INC_LIST_COUNT_FAILURE:"INC_LIST_COUNT_FAILURE",CHANGE_LIST_COLOR_REQUEST:"CHANGE_LIST_COLOR_REQUEST",CHANGE_LIST_COLOR_SUCCESS:"CHANGE_LIST_COLOR_SUCCESS ",CHANGE_LIST_COLOR_FAILURE:"CHANGE_LIST_COLOR_FAILURE",REMOVE_LIST_REQUEST:"REMOVE_LIST_REQUEST",REMOVE_LIST_SUCCESS:"REMOVE_LIST_SUCCESS ",REMOVE_LIST_FAILURE:"REMOVE_LIST_FAILURE",HISTORY_BTN_REQUEST:"HISTORY_BTN_REQUEST",HISTORY_BTN_SUCCESS:"HISTORY_BTN_SUCCESS ",HISTORY_BTN_FAILURE:"HISTORY_BTN_FAILURE",RESTORE_LIST_REQUEST:"RESTORE_LIST_REQUEST",RESTORE_LIST_SUCCESS:"RESTORE_LIST_SUCCESS ",RESTORE_LIST_FAILURE:"RESTORE_LIST_FAILURE",DELETE_LIST_REQUEST:"DELETE_LIST_REQUEST",DELETE_LIST_SUCCESS:"DELETE_LIST_SUCCESS ",DELETE_LIST_FAILURE:"DELETE_LIST_FAILURE",EDIT_LIST_NAME_REQUEST:"EDIT_LIST_NAME_REQUEST",EDIT_LIST_NAME_SUCCESS:"EDIT_LIST_NAME_SUCCESS ",EDIT_LIST_NAME_FAILURE:"EDIT_LIST_NAME_FAILURE",IN_EDIT_LIST:"IN_EDIT_LIST",OUT_EDIT_LIST:"OUT_EDIT_LIST"};e.a=a},74:function(t,e,n){},77:function(t,e,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.4bc659dc.chunk.js.map